(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Home"],{"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"841c":function(t,e,n){"use strict";var s=n("d784"),i=n("825a"),a=n("1d80"),r=n("129f"),o=n("577e"),c=n("14c3");s("search",(function(t,e,n){return[function(e){var n=a(this),s=void 0==e?void 0:e[t];return void 0!==s?s.call(e,n):new RegExp(e)[t](o(n))},function(t){var s=i(this),a=o(t),l=n(e,s,a);if(l.done)return l.value;var u=s.lastIndex;r(u,0)||(s.lastIndex=0);var d=c(s,a);return r(s.lastIndex,u)||(s.lastIndex=u),null===d?-1:d.index}]}))},"8d91":function(t,e,n){},bb51:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home-wrapper"},[t.list.length||t.search?n("Affix",{staticClass:"tools"},[t.edit?n("div",{staticClass:"btns-wrapper"},[n("span",{on:{click:function(e){return t.operateDone("cancel")}}},[n("Icon",{attrs:{type:"md-close",color:"#2db7f5"}}),t._v(" 放弃 ")],1),n("span",{on:{click:function(e){return t.operateDone("ok")}}},[n("Icon",{attrs:{type:"md-checkmark",color:"#19be6b"}}),t._v(" 完成 ")],1)]):t.search?n("div",{staticClass:"search-wrapper"},[n("Input",{attrs:{search:"","enter-button":"",placeholder:"请输入链接名称或者链接地址"},on:{"on-search":t.doSearch}}),n("Button",{attrs:{type:"text"},on:{click:t.cancelSearch}},[t._v("取消")])],1):n("div",{staticClass:"btns-wrapper"},[n("span",{on:{click:t.showSearch}},[n("Icon",{attrs:{type:"md-search"}}),t._v(" 搜索 ")],1),n("span",{on:{click:function(e){t.edit=!0}}},[n("Icon",{attrs:{type:"md-list"}}),t._v(" 批量删除 ")],1)])]):t._e(),t.list.length?n("Links",{attrs:{data:t.list,edit:t.edit},on:{remove:t.removeTemp,"long-touch":t.longtouchHandler}}):n("div",{staticClass:"no-data-info"},[n("h5",[t._v("空")]),t.search?n("p",[t._v("暂无满足条件的数据")]):n("p",[t._v("我的天呐!这里有个大写的空"),n("br"),t._v("赶紧去"),n("span",{on:{click:function(e){return t.openDialog("new")}}},[t._v("添加链接")]),t._v("吧")])]),n("Button",{staticClass:"add-btn",attrs:{shape:"circle",icon:"md-add",type:"primary"},on:{click:function(e){return t.openDialog("new")}}}),n("Modal",{attrs:{"class-name":"form-modal-wrapper"},model:{value:t.show_modal,callback:function(e){t.show_modal=e},expression:"show_modal"}},[n("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[t.is_edit?n("span",[t._v("修改 或者 删除 ?")]):n("span",[t._v("新建一个导航链接")])]),n("div",[n("Form",{ref:"form",attrs:{model:t.currentData,rules:t.rules}},[n("FormItem",{attrs:{prop:"name",label:"名称"}},[n("Input",{attrs:{type:"text",placeholder:"请输入网站名称"},model:{value:t.currentData.name,callback:function(e){t.$set(t.currentData,"name","string"===typeof e?e.trim():e)},expression:"currentData.name"}})],1),n("FormItem",{attrs:{prop:"link",label:"链接"}},[n("Input",{attrs:{placeholder:"请输入网站链接"},model:{value:t.currentData.link,callback:function(e){t.$set(t.currentData,"link","string"===typeof e?e.trim():e)},expression:"currentData.link"}})],1)],1)],1),n("div",{attrs:{slot:"footer"},slot:"footer"},[t.is_edit?n("Button",{staticClass:"btn-error",attrs:{type:"text"},on:{click:t.remove}},[t._v("删除")]):t._e(),n("Button",{class:[!t.is_edit&&"long-btn"],attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1)])],1)},i=[],a=(n("4de4"),n("d81d"),n("ac1f"),n("841c"),n("7db0"),n("b0c0"),n("caad"),n("2532"),n("9911"),n("81d3")),r={name:"Home",components:{Links:a["a"]},data:function(){return{list:[],search:!1,is_edit:!1,show_modal:!1,toRemoveList:[],currentData:{},edit:!1,rules:{link:[{required:!0,message:"网站链接不能为空呢"},{type:"url",trigger:"blur",message:"网站链接格式不对劲儿呢"}]}}},watch:{$route:function(){this.getLinks()}},created:function(){this.getLinks()},methods:{longtouchHandler:function(t){this.currentData=t,this.openDialog("edit")},removeTemp:function(t){this.toRemoveList.push(t),this.list=this.list.filter((function(e){return e.id!==t}))},operateDone:function(t){var e=this;this.edit=!1,"ok"===t&&(this.toRemoveList.map((function(t){e.$links.remove(t)})),this.toRemoveList=[]),this.getLinks()},showSearch:function(){this.search=!0,this.list=[]},doSearch:function(t){var e=this.$links.find();this.list=e.filter((function(e){return!(!e.name||!e.name.includes(t))||!!e.link.includes(t)}))},cancelSearch:function(){this.search=!1,this.getLinks()},openDialog:function(t){"new"==t?(this.is_edit=!1,this.currentData={},this.$utils.report("点击","新建按钮")):(this.$utils.report("长按","编辑弹窗"),this.is_edit=!0),this.show_modal=!0,this.$refs.form.resetFields()},closeDialog:function(){this.currentData={},this.show_modal=!1},getLinks:function(){this.list=this.$links.find()},save:function(){var t=this;this.$refs.form.validate((function(e){e&&(t.is_edit?t.$links.update(t.currentData):t.$links.insertOne(t.currentData),t.getLinks(),t.closeDialog())}))},remove:function(){this.$links.remove(this.currentData.id),this.getLinks(),this.closeDialog()}}},o=r,c=(n("de16"),n("2877")),l=Object(c["a"])(o,s,i,!1,null,null,null);e["default"]=l.exports},de16:function(t,e,n){"use strict";n("8d91")}}]);
//# sourceMappingURL=Home.dc3506c8.js.map